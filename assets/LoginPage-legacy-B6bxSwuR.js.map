{"version":3,"file":"LoginPage-legacy-B6bxSwuR.js","sources":["../../src/components/LoginPage.vue"],"sourcesContent":["<template>\n    <div class=\"flex justify-center\">\n        <h1 v-t=\"'titles.login'\" class=\"my-4 text-center font-bold\" />\n        <i class=\"i-fa6-solid:circle-info ml-2 mt-6 cursor-pointer\" :title=\"$t('info.login_note')\" />\n    </div>\n    <hr />\n    <div class=\"w-full flex items-center justify-center text-center\">\n        <form class=\"w-min children:pb-3\">\n            <div>\n                <input\n                    v-model=\"username\"\n                    class=\"input\"\n                    type=\"text\"\n                    autocomplete=\"username\"\n                    :placeholder=\"$t('login.username')\"\n                    :aria-label=\"$t('login.username')\"\n                    @keyup.enter=\"login\"\n                />\n            </div>\n            <div>\n                <input\n                    v-model=\"password\"\n                    class=\"input\"\n                    type=\"password\"\n                    autocomplete=\"password\"\n                    :placeholder=\"$t('login.password')\"\n                    :aria-label=\"$t('login.password')\"\n                    @keyup.enter=\"login\"\n                />\n            </div>\n            <div>\n                <a v-t=\"'titles.login'\" class=\"btn w-auto\" @click=\"login\" />\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            username: null,\n            password: null,\n        };\n    },\n    mounted() {\n        //TODO: Add Server Side check\n        if (this.getAuthToken()) {\n            this.$router.push(import.meta.env.BASE_URL);\n        }\n    },\n    activated() {\n        document.title = this.$t(\"titles.login\") + \" - Piped\";\n    },\n    methods: {\n        login() {\n            if (!this.username || !this.password) return;\n            this.fetchJson(this.authApiUrl() + \"/login\", null, {\n                method: \"POST\",\n                body: JSON.stringify({\n                    username: this.username,\n                    password: this.password,\n                }),\n            }).then(resp => {\n                if (resp.token) {\n                    this.setPreference(\"authToken\" + this.hashCode(this.authApiUrl()), resp.token);\n                    window.location = import.meta.env.BASE_URL; // done to bypass cache\n                } else alert(resp.error);\n            });\n        },\n    },\n};\n</script>\n"],"names":["_sfc_main","data","username","password","mounted","this","getAuthToken","$router","push","activated","document","title","$t","methods","login","fetchJson","authApiUrl","method","body","JSON","stringify","then","resp","token","setPreference","hashCode","window","location","alert","error","_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_openBlock","_createElementBlock","_Fragment","_withDirectives","_ctx","_hoisted_4","_cache","$event","$data","type","autocomplete","placeholder","onKeyup","_withKeys","$options","args","onClick"],"mappings":"gMAsCA,MAAKA,EAAU,CACXC,KAAOA,KACI,CACHC,SAAU,KACVC,SAAU,OAGlBC,OAAAA,GAEQC,KAAKC,gBACAD,KAAAE,QAAQC,KAAK,IAE1B,EACAC,SAAAA,GACIC,SAASC,MAAQN,KAAKO,GAAG,gBAAkB,UAC/C,EACAC,QAAS,CACLC,KAAAA,GACST,KAAKH,UAAaG,KAAKF,UAC5BE,KAAKU,UAAUV,KAAKW,aAAe,SAAU,KAAM,CAC/CC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACjBlB,SAAUG,KAAKH,SACfC,SAAUE,KAAKF,aAEpBkB,MAAaC,IACRA,EAAKC,OACAlB,KAAAmB,cAAc,YAAcnB,KAAKoB,SAASpB,KAAKW,cAAeM,EAAKC,OACxEG,OAAOC,SAAW,KACTC,MAAAN,EAAKO,MAAK,GAE/B,IApECC,EAAA,CAAAC,MAAM,uBACkBC,EAAA,CAAAD,MAAM,8BAFvCE,EAAA,CAAA,WAKIC,EAAM,KAAA,KAAA,MAAA,GACDC,EAAA,CAAAJ,MAAM,uDACDK,EAAA,CAAAL,MAAM,uBAPpBM,EAAA,CAAA,cAAA,cAAAC,EAAA,CAAA,cAAA,8EAAA,OAAAC,IAAAC,EAAAC,EAAA,KAAA,CACIP,EAGM,MAHNJ,EAGM,CAFFY,EAAAR,EAA8D,KAA9DF,EAA8D,KAAA,KAAA,IAArD,kBACTE,EAA6F,IAAA,CAA1FH,MAAM,mDAAoDpB,MAAOgC,EAAE/B,GAAA,oBAH9E,KAAA,EAAAqB,KAKIW,EACAV,EA4BM,MA5BNC,EA4BM,CA3BFD,EA0BO,OA1BPE,EA0BO,CAzBHF,EAUM,MAAA,KAAA,GATFA,EAQE,QAAA,CAjBlB,sBAAAW,EAAA,KAAAA,EAAA,GAU6BC,GAAAC,EAAQ7C,SAAA4C,GACjBf,MAAM,QACNiB,KAAK,OACLC,aAAa,WACZC,YAAaP,EAAE/B,GAAA,kBACf,aAAY+B,EAAE/B,GAAA,kBACduC,QAAKN,EAAA,KAAAA,EAAA,GAhB1BO,WAgBkCC,EAAKvC,OAAAuC,EAAAvC,SAAAwC,IAAA,CAAA,YAhBvC,KAAA,GAAAjB,GAAA,IAU6BU,EAAQ7C,cASzBgC,EAUM,MAAA,KAAA,GATFA,EAQE,QAAA,CA5BlB,sBAAAW,EAAA,KAAAA,EAAA,GAqB6BC,GAAAC,EAAQ5C,SAAA2C,GACjBf,MAAM,QACNiB,KAAK,WACLC,aAAa,WACZC,YAAaP,EAAE/B,GAAA,kBACf,aAAY+B,EAAE/B,GAAA,kBACduC,QAAKN,EAAA,KAAAA,EAAA,GA3B1BO,WA2BkCC,EAAKvC,OAAAuC,EAAAvC,SAAAwC,IAAA,CAAA,YA3BvC,KAAA,GAAAhB,GAAA,IAqB6BS,EAAQ5C,cASzB+B,EAEM,MAAA,KAAA,GADFA,EAA4D,IAAA,CAApCH,MAAM,aAAcwB,4BAAOF,EAAKvC,OAAAuC,EAAAvC,SAAAwC,mBAAhD"}