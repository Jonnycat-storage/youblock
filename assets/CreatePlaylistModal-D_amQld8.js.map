{"version":3,"file":"CreatePlaylistModal-D_amQld8.js","sources":["../../src/components/CreatePlaylistModal.vue"],"sourcesContent":["<template>\n    <ModalComponent @close=\"$emit('close')\">\n        <div class=\"flex flex-col\">\n            <h2 v-t=\"'actions.create_playlist'\" />\n            <input ref=\"input\" v-model=\"playlistName\" type=\"text\" class=\"input mt-2\" />\n            <div class=\"ml-auto mt-3 w-min flex\">\n                <button v-t=\"'actions.cancel'\" class=\"btn\" @click=\"$emit('close')\" />\n                <button v-t=\"'actions.okay'\" class=\"btn ml-2\" @click=\"onCreatePlaylist\" />\n            </div>\n        </div>\n    </ModalComponent>\n</template>\n\n<script>\nimport ModalComponent from \"./ModalComponent.vue\";\n\nexport default {\n    components: {\n        ModalComponent,\n    },\n    emits: [\"created\", \"close\"],\n    data() {\n        return {\n            playlistName: \"\",\n        };\n    },\n    mounted() {\n        this.$refs.input.focus();\n        window.addEventListener(\"keydown\", this.handleKeyDown);\n    },\n    unmounted() {\n        window.removeEventListener(\"keydown\", this.handleKeyDown);\n    },\n    methods: {\n        handleKeyDown(event) {\n            if (event.code === \"Enter\") {\n                this.onCreatePlaylist();\n                event.preventDefault();\n            }\n        },\n        onCreatePlaylist() {\n            if (!this.playlistName) return;\n\n            this.createPlaylist(this.playlistName).then(response => {\n                if (response.error) alert(response.error);\n                else {\n                    this.$emit(\"created\", response.playlistId, this.playlistName);\n                    this.$emit(\"close\");\n                }\n            });\n        },\n    },\n};\n</script>\n"],"names":["_sfc_main","ModalComponent","event","response","_hoisted_1","_hoisted_2","_createBlock","_component_ModalComponent","_ctx","_withCtx","_createElementVNode","_cache","$event","$data","$options","args"],"mappings":"4IAgBA,MAAKA,EAAU,CACX,WAAY,CACR,eAAAC,CACH,EACD,MAAO,CAAC,UAAW,OAAO,EAC1B,MAAO,CACH,MAAO,CACH,aAAc,GAErB,EACD,SAAU,CACN,KAAK,MAAM,MAAM,QACjB,OAAO,iBAAiB,UAAW,KAAK,aAAa,CACxD,EACD,WAAY,CACR,OAAO,oBAAoB,UAAW,KAAK,aAAa,CAC3D,EACD,QAAS,CACL,cAAcC,EAAO,CACbA,EAAM,OAAS,UACf,KAAK,iBAAgB,EACrBA,EAAM,eAAc,EAE3B,EACD,kBAAmB,CACV,KAAK,cAEV,KAAK,eAAe,KAAK,YAAY,EAAE,KAAKC,GAAY,CAChDA,EAAS,MAAO,MAAMA,EAAS,KAAK,GAEpC,KAAK,MAAM,UAAWA,EAAS,WAAY,KAAK,YAAY,EAC5D,KAAK,MAAM,OAAO,EAE1B,CAAC,CACJ,CACJ,CACL,EAlDaC,EAAA,CAAA,MAAM,eAAe,EAGjBC,EAAA,CAAA,MAAM,yBAAyB,0EAJ5CC,EASiBC,EAAA,CATA,uBAAOC,EAAK,MAAA,OAAA,KADjC,QAAAC,EAEQ,IAOM,CAPNC,EAOM,MAPNN,EAOM,GANFM,EAAsC,KAAA,KAAA,KAAA,GAAA,EAAA,IAA7B,yBAAyB,MAClCA,EAA2E,QAAA,CAApE,IAAI,QAJvB,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAIwCC,EAAY,aAAAD,GAAE,KAAK,OAAO,MAAM,4BAAhCC,EAAY,YAAA,IACxCH,EAGM,MAHNL,EAGM,GAFFK,EAAqE,SAAA,CAAtC,MAAM,MAAO,uBAAOF,EAAK,MAAA,OAAA,kBAA3C,gBAAgB,MAC7BE,EAA0E,SAAA,CAA7C,MAAM,WAAY,4BAAOI,EAAgB,kBAAAA,EAAA,iBAAA,GAAAC,CAAA,kBAAzD,cAAc,UAP3C,EAAA"}