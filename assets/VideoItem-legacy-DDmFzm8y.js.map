{"version":3,"file":"VideoItem-legacy-DDmFzm8y.js","sources":["../../src/components/PlaylistAddModal.vue","../../src/components/ShareModal.vue","../../src/components/VideoItem.vue"],"sourcesContent":["<template>\n    <ModalComponent @close=\"$emit('close')\">\n        <span v-t=\"'actions.select_playlist'\" class=\"inline-block w-max text-2xl\" />\n        <select v-model=\"selectedPlaylist\" class=\"select mt-3 w-full\">\n            <option v-for=\"playlist in playlists\" :key=\"playlist.id\" :value=\"playlist.id\" v-text=\"playlist.name\" />\n        </select>\n        <div class=\"mt-3 w-full flex justify-between\">\n            <button\n                ref=\"addButton\"\n                v-t=\"'actions.create_playlist'\"\n                class=\"btn\"\n                @click=\"showCreatePlaylistModal = true\"\n            />\n            <button\n                ref=\"addButton\"\n                v-t=\"'actions.add_to_playlist'\"\n                class=\"btn\"\n                @click=\"handleClick(selectedPlaylist)\"\n            />\n        </div>\n    </ModalComponent>\n    <CreatePlaylistModal\n        v-if=\"showCreatePlaylistModal\"\n        @close=\"showCreatePlaylistModal = false\"\n        @created=\"addCreatedPlaylist\"\n    />\n</template>\n\n<script>\nimport ModalComponent from \"./ModalComponent.vue\";\nimport CreatePlaylistModal from \"./CreatePlaylistModal.vue\";\n\nexport default {\n    components: {\n        ModalComponent,\n        CreatePlaylistModal,\n    },\n    props: {\n        videoInfo: {\n            type: Object,\n            required: true,\n        },\n        videoId: {\n            type: String,\n            required: true,\n        },\n    },\n    emits: [\"close\"],\n    data() {\n        return {\n            playlists: [],\n            selectedPlaylist: null,\n            processing: false,\n            showCreatePlaylistModal: false,\n        };\n    },\n    mounted() {\n        this.getPlaylists().then(json => {\n            this.playlists = json;\n        });\n        this.selectedPlaylist = this.getPreferenceString(\"selectedPlaylist\" + this.hashCode(this.authApiUrl()));\n        window.addEventListener(\"keydown\", this.handleKeyDown);\n        window.blur();\n    },\n    unmounted() {\n        window.removeEventListener(\"keydown\", this.handleKeyDown);\n    },\n    methods: {\n        handleKeyDown(event) {\n            if (event.code === \"Enter\" && !this.showCreatePlaylistModal) {\n                this.handleClick(this.selectedPlaylist);\n                event.preventDefault();\n            }\n        },\n        handleClick(playlistId) {\n            if (!playlistId) {\n                alert(this.$t(\"actions.please_select_playlist\"));\n                return;\n            }\n\n            if (this.processing) return;\n\n            this.$refs.addButton.disabled = true;\n            this.processing = true;\n\n            this.addVideosToPlaylist(playlistId, [this.videoId], [this.videoInfo]).then(json => {\n                this.setPreference(\"selectedPlaylist\" + this.hashCode(this.authApiUrl()), playlistId);\n                this.$emit(\"close\");\n                if (json.error) alert(json.error);\n            });\n        },\n        addCreatedPlaylist(playlistId, playlistName) {\n            this.playlists.push({ id: playlistId, name: playlistName });\n            this.selectedPlaylist = playlistId;\n        },\n    },\n};\n</script>\n","<template>\n    <ModalComponent>\n        <h2 v-t=\"'actions.share'\" class=\"mb-5\" />\n        <div class=\"flex justify-between\">\n            <label v-t=\"'actions.piped_link'\" />\n            <input v-model=\"pipedLink\" type=\"checkbox\" @change=\"onChange\" />\n        </div>\n        <hr />\n        <div v-if=\"hasPlaylist\" class=\"flex justify-between\">\n            <label v-t=\"'actions.with_playlist'\" />\n            <input v-model=\"withPlaylist\" type=\"checkbox\" @change=\"onChange\" />\n        </div>\n        <div class=\"flex justify-between\">\n            <label v-t=\"'actions.with_timecode'\" for=\"withTimeCode\" />\n            <input id=\"withTimeCode\" v-model=\"withTimeCode\" type=\"checkbox\" @change=\"onChange\" />\n        </div>\n        <div v-if=\"withTimeCode\" class=\"mt-2 flex items-center justify-between\">\n            <label v-t=\"'actions.time_code'\" />\n            <input v-model=\"timeStamp\" class=\"input w-12\" type=\"text\" @change=\"onChange\" />\n        </div>\n        <hr />\n        <a :href=\"generatedLink\" target=\"_blank\">\n            <h3 class=\"mt-4\" v-text=\"generatedLink\" />\n        </a>\n        <QrCode v-if=\"showQrCode\" :text=\"generatedLink\" />\n        <div class=\"mt-4 flex justify-end\">\n            <button v-t=\"'actions.generate_qrcode'\" class=\"btn\" @click=\"showQrCode = !showQrCode\" />\n            <button v-t=\"'actions.follow_link'\" class=\"btn ml-3\" @click=\"followLink()\" />\n            <button v-t=\"'actions.copy_link'\" class=\"btn ml-3\" @click=\"copyLink()\" />\n        </div>\n    </ModalComponent>\n</template>\n\n<script setup>\nimport { defineAsyncComponent } from \"vue\";\n\nconst QrCode = defineAsyncComponent(() => import(\"./QrCode.vue\"));\n</script>\n\n<script>\nimport ModalComponent from \"./ModalComponent.vue\";\n\nexport default {\n    components: {\n        ModalComponent,\n    },\n    props: {\n        videoId: {\n            type: String,\n            required: true,\n        },\n        currentTime: {\n            type: Number,\n            required: true,\n        },\n        playlistId: {\n            type: String,\n            default: undefined,\n        },\n        playlistIndex: {\n            type: Number,\n            default: undefined,\n        },\n    },\n    data() {\n        return {\n            withTimeCode: true,\n            pipedLink: true,\n            withPlaylist: true,\n            timeStamp: null,\n            hasPlaylist: false,\n            showQrCode: false,\n        };\n    },\n    computed: {\n        generatedLink() {\n            var baseUrl = this.pipedLink\n                ? window.location.origin + \"/watch?v=\" + this.videoId\n                : \"https://youtu.be/\" + this.videoId;\n            var url = new URL(baseUrl);\n            if (this.withTimeCode && this.timeStamp > 0) url.searchParams.append(\"t\", this.timeStamp);\n            if (this.hasPlaylist && this.withPlaylist) {\n                url.searchParams.append(\"list\", this.playlistId);\n                url.searchParams.append(\"index\", this.playlistIndex);\n            }\n            return url.href;\n        },\n    },\n    mounted() {\n        this.timeStamp = parseInt(this.currentTime);\n        this.withTimeCode = this.getPreferenceBoolean(\"shareWithTimeCode\", true);\n        this.pipedLink = this.getPreferenceBoolean(\"shareAsPipedLink\", true);\n        this.withPlaylist = this.getPreferenceBoolean(\"shareWithPlaylist\", true);\n        this.hasPlaylist = this.playlistId != undefined && !isNaN(this.playlistIndex);\n    },\n    methods: {\n        followLink() {\n            window.open(this.generatedLink, \"_blank\").focus();\n        },\n        async copyLink() {\n            await this.copyURL(this.generatedLink);\n        },\n        async copyURL(mytext) {\n            try {\n                await navigator.clipboard.writeText(mytext);\n                alert(this.$t(\"info.copied\"));\n            } catch ($e) {\n                alert(this.$t(\"info.cannot_copy\"));\n            }\n        },\n        onChange() {\n            this.setPreference(\"shareWithTimeCode\", this.withTimeCode, true);\n            this.setPreference(\"shareAsPipedLink\", this.pipedLink, true);\n            this.setPreference(\"shareWithPlaylist\", this.withPlaylist, true);\n        },\n    },\n};\n</script>\n","<template>\n    <div v-if=\"showVideo\" class=\"flex flex-col flex-justify-between\">\n        <router-link\n            class=\"inline-block w-full focus:underline hover:underline\"\n            :to=\"{\n                path: '/watch',\n                query: {\n                    v: item.url.substr(-11),\n                    ...(playlistId && { list: playlistId }),\n                    ...(index >= 0 && { index: index + 1 }),\n                    ...(preferListen && { listen: 1 }),\n                },\n            }\"\n        >\n            <div class=\"w-full\">\n                <img\n                    loading=\"lazy\"\n                    class=\"aspect-video w-full object-contain\"\n                    :src=\"thumbnail\"\n                    :alt=\"title\"\n                    :class=\"{ 'shorts-img': item.isShort, 'opacity-75': item.watched }\"\n                />\n                <!-- progress bar -->\n                <div class=\"relative h-1 w-full\">\n                    <div\n                        v-if=\"item.watched && item.duration > 0\"\n                        class=\"absolute bottom-0 left-0 h-1 bg-red-600\"\n                        :style=\"{ width: `clamp(0%, ${(item.currentTime / item.duration) * 100}%, 100%` }\"\n                    />\n                </div>\n            </div>\n\n            <div class=\"relative text-sm\">\n                <span\n                    v-if=\"item.duration > 0\"\n                    class=\"thumbnail-overlay thumbnail-right\"\n                    v-text=\"timeFormat(item.duration)\"\n                />\n                <!-- shorts thumbnail -->\n                <span v-if=\"item.isShort\" v-t=\"'video.shorts'\" class=\"thumbnail-overlay thumbnail-left\" />\n                <span\n                    v-else-if=\"item.duration >= 0\"\n                    class=\"thumbnail-overlay thumbnail-right\"\n                    v-text=\"timeFormat(item.duration)\"\n                />\n                <i18n-t v-else keypath=\"video.live\" class=\"thumbnail-overlay thumbnail-right !bg-red-600\" tag=\"div\">\n                    <i class=\"i-fa6-solid:tower-broadcast w-3\" />\n                </i18n-t>\n                <span v-if=\"item.watched\" v-t=\"'video.watched'\" class=\"thumbnail-overlay bottom-5px left-5px\" />\n            </div>\n\n            <div>\n                <p\n                    style=\"display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical\"\n                    class=\"link flex overflow-hidden pt-2 font-bold\"\n                    :title=\"title\"\n                    v-text=\"title\"\n                />\n            </div>\n        </router-link>\n\n        <div class=\"flex\">\n            <router-link :to=\"item.uploaderUrl\">\n                <img\n                    v-if=\"item.uploaderAvatar\"\n                    loading=\"lazy\"\n                    :src=\"item.uploaderAvatar\"\n                    class=\"mr-0.5 mt-0.5 h-32px w-32px rounded-full\"\n                    width=\"68\"\n                    height=\"68\"\n                />\n            </router-link>\n\n            <div class=\"flex-1 px-2\">\n                <router-link\n                    v-if=\"item.uploaderUrl && item.uploaderName && !hideChannel\"\n                    class=\"link-secondary block overflow-hidden text-sm\"\n                    :to=\"item.uploaderUrl\"\n                    :title=\"item.uploaderName\"\n                >\n                    <span v-text=\"item.uploaderName\" />\n                    <i v-if=\"item.uploaderVerified\" class=\"i-fa6-solid:check ml-1.5\" />\n                </router-link>\n\n                <div v-if=\"item.views >= 0 || item.uploadedDate\" class=\"mt-1 text-xs text-gray-300 font-normal\">\n                    <span v-if=\"item.views >= 0\">\n                        <i class=\"i-fa6-solid:eye\" />\n                        <span class=\"pl-1\" v-text=\"`${numberFormat(item.views)} â€¢`\" />\n                    </span>\n                    <span v-if=\"item.uploaded > 0\" class=\"pl-0.5\" v-text=\"timeAgo(item.uploaded)\" />\n                    <span v-else-if=\"item.uploadedDate\" class=\"pl-0.5\" v-text=\"item.uploadedDate\" />\n                </div>\n            </div>\n\n            <div class=\"flex items-center gap-2.5\">\n                <router-link\n                    :to=\"{\n                        path: '/watch',\n                        query: {\n                            v: item.url.substr(-11),\n                            ...(playlistId && { list: playlistId }),\n                            ...(index >= 0 && { index: index + 1 }),\n                            ...(!preferListen && { listen: 1 }),\n                        },\n                    }\"\n                    :aria-label=\"preferListen ? title : 'Listen to ' + title\"\n                    :title=\"preferListen ? title : 'Listen to ' + title\"\n                >\n                    <i :class=\"preferListen ? 'i-fa6-solid:tv' : 'i-fa6-solid:headphones'\" />\n                </router-link>\n                <button :title=\"$t('actions.add_to_playlist')\" @click=\"showPlaylistModal = !showPlaylistModal\">\n                    <i class=\"i-fa6-solid:circle-plus\" />\n                </button>\n                <button :title=\"$t('actions.share')\" @click=\"showShareModal = !showShareModal\">\n                    <i class=\"i-fa6-solid:share\" />\n                </button>\n                <button\n                    v-if=\"admin\"\n                    ref=\"removeButton\"\n                    :title=\"$t('actions.remove_from_playlist')\"\n                    @click=\"showConfirmRemove = true\"\n                >\n                    <i class=\"i-fa6-solid:circle-minus\" />\n                </button>\n                <ConfirmModal\n                    v-if=\"showConfirmRemove\"\n                    :message=\"$t('actions.delete_playlist_video_confirm')\"\n                    @close=\"showConfirmRemove = false\"\n                    @confirm=\"removeVideo(item.url.substr(-11))\"\n                />\n                <PlaylistAddModal\n                    v-if=\"showPlaylistModal\"\n                    :video-id=\"item.url.substr(-11)\"\n                    :video-info=\"item\"\n                    @close=\"showPlaylistModal = false\"\n                />\n                <ShareModal\n                    v-if=\"showShareModal\"\n                    :video-id=\"item.url.substr(-11)\"\n                    :current-time=\"0\"\n                    @close=\"showShareModal = false\"\n                />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport PlaylistAddModal from \"./PlaylistAddModal.vue\";\nimport ShareModal from \"./ShareModal.vue\";\nimport ConfirmModal from \"./ConfirmModal.vue\";\n\nexport default {\n    components: { PlaylistAddModal, ConfirmModal, ShareModal },\n    props: {\n        item: {\n            type: Object,\n            default: () => {\n                return {};\n            },\n        },\n        isFeed: {\n            type: Boolean,\n            default: false,\n        },\n        height: { type: String, default: \"118\" },\n        width: { type: String, default: \"210\" },\n        hideChannel: { type: Boolean, default: false },\n        index: { type: Number, default: -1 },\n        playlistId: { type: String, default: null },\n        preferListen: { type: Boolean, default: false },\n        admin: { type: Boolean, default: false },\n    },\n    emits: [\"remove\"],\n    data() {\n        return {\n            showPlaylistModal: false,\n            showShareModal: false,\n            showVideo: true,\n            showConfirmRemove: false,\n        };\n    },\n    computed: {\n        title() {\n            return this.item.dearrow?.titles[0]?.title ?? this.item.title;\n        },\n        thumbnail() {\n            return this.item.dearrow?.thumbnails[0]?.thumbnail ?? this.item.thumbnail;\n        },\n    },\n    mounted() {\n        this.shouldShowVideo();\n    },\n    methods: {\n        removeVideo() {\n            this.$refs.removeButton.disabled = true;\n            this.removeVideoFromPlaylist(this.playlistId, this.index).then(json => {\n                if (json.error) alert(json.error);\n                else this.$emit(\"remove\");\n            });\n        },\n        shouldShowVideo() {\n            if (!this.isFeed || !this.getPreferenceBoolean(\"hideWatched\", false)) return;\n\n            const objectStore = window.db.transaction(\"watch_history\", \"readonly\").objectStore(\"watch_history\");\n            const request = objectStore.get(this.item.url.substr(-11));\n            request.onsuccess = event => {\n                const video = event.target.result;\n                if (video && (video.currentTime ?? 0) > video.duration * 0.9) {\n                    this.showVideo = false;\n                    return;\n                }\n            };\n        },\n    },\n};\n</script>\n\n<style>\n.shorts-img {\n    @apply w-full object-contain;\n}\n</style>\n"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","components","ModalComponent","CreatePlaylistModal","props","videoInfo","type","Object","required","videoId","String","emits","data","playlists","selectedPlaylist","processing","showCreatePlaylistModal","mounted","this","getPlaylists","then","json","getPreferenceString","hashCode","authApiUrl","window","addEventListener","handleKeyDown","blur","unmounted","removeEventListener","methods","event","code","handleClick","preventDefault","playlistId","$refs","addButton","disabled","addVideosToPlaylist","setPreference","$emit","error","alert","$t","addCreatedPlaylist","playlistName","push","id","name","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_ModalComponent","onClose","_ctx","default","_withCtx","_withDirectives","_createElementVNode","_cache","$event","$data","_renderList","playlist","key","value","textContent","_toDisplayString","ref","onClick","$options","_","_createBlock","_component_CreatePlaylistModal","onCreated","_createCommentVNode","__default__","currentTime","Number","undefined","playlistIndex","withTimeCode","pipedLink","withPlaylist","timeStamp","hasPlaylist","showQrCode","computed","generatedLink","baseUrl","location","origin","url","URL","searchParams","append","href","parseInt","getPreferenceBoolean","isNaN","followLink","open","focus","copyLink","copyURL","mytext","navigator","clipboard","writeText","$e","onChange","QrCode","defineAsyncComponent","module","import","_sfc_main","PlaylistAddModal","ConfirmModal","ShareModal","item","isFeed","Boolean","height","width","hideChannel","index","preferListen","admin","showPlaylistModal","showShareModal","showVideo","showConfirmRemove","title","dearrow","titles","thumbnail","thumbnails","shouldShowVideo","removeVideo","removeButton","removeVideoFromPlaylist","db","transaction","objectStore","get","substr","onsuccess","video","target","result","duration","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_27","_hoisted_30","_component_router_link","to","$props","listen","loading","_normalizeClass","isShort","watched","src","alt","style","_normalizeStyle","timeFormat","_hoisted_7","_component_i18n_t","keypath","tag","_hoisted_9","_hoisted_10","display","uploaderUrl","uploaderAvatar","uploaderName","uploaderVerified","_hoisted_16","views","uploadedDate","_hoisted_17","_hoisted_18","_hoisted_19","numberFormat","uploaded","timeAgo","_hoisted_26","_hoisted_29","_hoisted_32","_component_ConfirmModal","message","onConfirm","_component_PlaylistAddModal","_component_ShareModal"],"mappings":"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"}