{"version":3,"file":"TrendingPage-legacy-BL2qciUi.js","sources":["../../src/components/TrendingPage.vue"],"sourcesContent":["<template>\n    <h1 v-t=\"'titles.trending'\" class=\"my-4 text-center font-bold\" />\n\n    <hr />\n\n    <LoadingIndicatorPage :show-content=\"videos.length != 0\" class=\"video-grid\">\n        <VideoItem v-for=\"video in videos\" :key=\"video.url\" :item=\"video\" height=\"118\" width=\"210\" />\n    </LoadingIndicatorPage>\n</template>\n\n<script>\nimport LoadingIndicatorPage from \"./LoadingIndicatorPage.vue\";\nimport VideoItem from \"./VideoItem.vue\";\n\nexport default {\n    components: {\n        VideoItem,\n        LoadingIndicatorPage,\n    },\n    data() {\n        return {\n            videos: [],\n        };\n    },\n    mounted() {\n        if (\n            this.$route.path == import.meta.env.BASE_URL &&\n            this.getPreferenceString(\"homepage\", \"trending\") == \"feed\"\n        ) {\n            return;\n        }\n        let region = this.getPreferenceString(\"region\", \"US\");\n\n        this.fetchTrending(region).then(videos => {\n            this.videos = videos;\n            this.updateWatched(this.videos);\n            this.fetchDeArrowContent(this.videos);\n        });\n    },\n    activated() {\n        document.title = this.$t(\"titles.trending\") + \" - Piped\";\n        if (this.videos.length > 0) this.updateWatched(this.videos);\n        if (this.$route.path == import.meta.env.BASE_URL) {\n            let homepage = this.getHomePage(this);\n            if (homepage !== undefined) this.$router.push(homepage);\n        }\n    },\n    methods: {\n        async fetchTrending(region) {\n            return await this.fetchJson(this.apiUrl() + \"/trending\", {\n                region: region || \"US\",\n            });\n        },\n    },\n};\n</script>\n"],"names":["_sfc_main","components","VideoItem","LoadingIndicatorPage","data","videos","mounted","this","$route","path","getPreferenceString","region","fetchTrending","then","updateWatched","fetchDeArrowContent","activated","document","title","$t","length","homepage","getHomePage","$router","push","methods","fetchJson","apiUrl","_hoisted_1","class","_createElementVNode","_openBlock","_createElementBlock","_Fragment","_withDirectives","_hoisted_2","_createVNode","_component_LoadingIndicatorPage","$data","default","_withCtx","_renderList","video","_createBlock","_component_VideoItem","key","url","item","height","width","_"],"mappings":"mcAcA,MAAKA,EAAU,CACXC,WAAY,CACRC,YACAC,wBAEJC,KAAOA,KACI,CACHC,OAAQ,KAGhBC,OAAAA,GAEQ,GAAoB,KAApBC,KAAKC,OAAOC,MACwC,QAApDF,KAAKG,oBAAoB,WAAY,YAErC,OAEJ,IAAIC,EAASJ,KAAKG,oBAAoB,SAAU,MAEhDH,KAAKK,cAAcD,GAAQE,MAAeR,IACtCE,KAAKF,OAASA,EACTE,KAAAO,cAAcP,KAAKF,QACnBE,KAAAQ,oBAAoBR,KAAKF,OAAM,GAE5C,EACAW,SAAAA,GAGQ,GAFJC,SAASC,MAAQX,KAAKY,GAAG,mBAAqB,WAC1CZ,KAAKF,OAAOe,OAAS,GAAQb,KAAAO,cAAcP,KAAKF,QAC5B,KAApBE,KAAKC,OAAOC,KAAkC,CAC1C,IAAAY,EAAWd,KAAKe,YAAYf,WACf,IAAbc,GAA6Bd,KAAAgB,QAAQC,KAAKH,EAClD,CACJ,EACAI,QAAS,CACL,mBAAMb,CAAcD,GAChB,kBAAkBe,UAAUnB,KAAKoB,SAAW,YAAa,CACrDhB,OAAQA,GAAU,MAE1B,IAnDwBiB,EAAA,CAAAC,MAAM,gCAElCC,EAAM,KAAA,KAAA,MAAA,gHAHV,OAAAC,IAAAC,EAAAC,EAAA,KAAA,CACIC,EAAAJ,EAAiE,KAAjEF,EAAiE,KAAA,KAAA,IAAxD,qBAETO,EAEAC,EAEuBC,EAAA,CAFA,eAA2B,GAAbC,EAAMjC,OAACe,OAAaS,MAAM,eALnEU,QAAAC,GAMmB,IAAuB,EAAlCT,GAAA,GAAAC,EAA6FC,EANrG,KAAAQ,EAMmCH,EAAMjC,QAAfqC,QAAlBC,EAA6FC,EAAA,CAAzDC,IAAKH,EAAMI,IAAMC,KAAML,EAAOM,OAAO,MAAMC,MAAM,oCAN7FC,EAAA"}