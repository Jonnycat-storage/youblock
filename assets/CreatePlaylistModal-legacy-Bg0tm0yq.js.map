{"version":3,"file":"CreatePlaylistModal-legacy-Bg0tm0yq.js","sources":["../../src/components/CreatePlaylistModal.vue"],"sourcesContent":["<template>\n    <ModalComponent @close=\"$emit('close')\">\n        <div class=\"flex flex-col\">\n            <h2 v-t=\"'actions.create_playlist'\" />\n            <input ref=\"input\" v-model=\"playlistName\" type=\"text\" class=\"input mt-2\" />\n            <div class=\"ml-auto mt-3 w-min flex\">\n                <button v-t=\"'actions.cancel'\" class=\"btn\" @click=\"$emit('close')\" />\n                <button v-t=\"'actions.okay'\" class=\"btn ml-2\" @click=\"onCreatePlaylist\" />\n            </div>\n        </div>\n    </ModalComponent>\n</template>\n\n<script>\nimport ModalComponent from \"./ModalComponent.vue\";\n\nexport default {\n    components: {\n        ModalComponent,\n    },\n    emits: [\"created\", \"close\"],\n    data() {\n        return {\n            playlistName: \"\",\n        };\n    },\n    mounted() {\n        this.$refs.input.focus();\n        window.addEventListener(\"keydown\", this.handleKeyDown);\n    },\n    unmounted() {\n        window.removeEventListener(\"keydown\", this.handleKeyDown);\n    },\n    methods: {\n        handleKeyDown(event) {\n            if (event.code === \"Enter\") {\n                this.onCreatePlaylist();\n                event.preventDefault();\n            }\n        },\n        onCreatePlaylist() {\n            if (!this.playlistName) return;\n\n            this.createPlaylist(this.playlistName).then(response => {\n                if (response.error) alert(response.error);\n                else {\n                    this.$emit(\"created\", response.playlistId, this.playlistName);\n                    this.$emit(\"close\");\n                }\n            });\n        },\n    },\n};\n</script>\n"],"names":["_hoisted_1","class","_hoisted_2","components","ModalComponent","emits","data","playlistName","mounted","this","$refs","input","focus","window","addEventListener","handleKeyDown","unmounted","removeEventListener","methods","event","code","onCreatePlaylist","preventDefault","createPlaylist","then","response","error","alert","$emit","playlistId","_createBlock","_component_ModalComponent","onClose","_ctx","default","_withCtx","_createElementVNode","ref","_cache","$event","$data","type","onClick","$options","args","_"],"mappings":"mPAgBA,MAdaA,EAAA,CAAAC,MAAM,iBAGFC,EAAA,CAAAD,MAAM,mCAWR,CACXE,WAAY,CACRC,kBAEJC,MAAO,CAAC,UAAW,SACnBC,KAAIA,KACO,CACHC,aAAc,KAGtBC,OAAAA,GACIC,KAAKC,MAAMC,MAAMC,QACjBC,OAAOC,iBAAiB,UAAWL,KAAKM,cAC3C,EACDC,SAAAA,GACIH,OAAOI,oBAAoB,UAAWR,KAAKM,cAC9C,EACDG,QAAS,CACLH,aAAAA,CAAcI,GACS,UAAfA,EAAMC,OACNX,KAAKY,mBACLF,EAAMG,iBAEb,EACDD,gBAAAA,GACSZ,KAAKF,cAEVE,KAAKc,eAAed,KAAKF,cAAciB,MAAKC,IACpCA,EAASC,MAAOC,MAAMF,EAASC,QAE/BjB,KAAKmB,MAAM,UAAWH,EAASI,WAAYpB,KAAKF,cAChDE,KAAKmB,MAAM,SACf,GAEP,qFAjDLE,EASiBC,EAAA,CATAC,uBAAOC,EAAKL,MAAA,YADjCM,QAAAC,GAEQ,IAOM,CAPNC,EAOM,MAPNpC,EAOM,GANFoC,EAAsC,KAAA,KAAA,KAAA,KAAA,IAA7B,+BACTA,EAA2E,QAAA,CAApEC,IAAI,QAJvB,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAIwCC,EAAYjC,aAAAgC,GAAEE,KAAK,OAAOxC,MAAM,4BAAhCuC,EAAYjC,gBACxC6B,EAGM,MAHNlC,EAGM,GAFFkC,EAAqE,SAAA,CAAtCnC,MAAM,MAAOyC,uBAAOT,EAAKL,MAAA,yBAA3C,sBACbQ,EAA0E,SAAA,CAA7CnC,MAAM,WAAYyC,4BAAOC,EAAgBtB,kBAAAsB,EAAAtB,oBAAAuB,mBAAzD,yBAP7BC,EAAA"}