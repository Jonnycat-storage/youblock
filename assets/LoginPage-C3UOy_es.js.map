{"version":3,"file":"LoginPage-C3UOy_es.js","sources":["../../src/components/LoginPage.vue"],"sourcesContent":["<template>\n    <div class=\"flex justify-center\">\n        <h1 v-t=\"'titles.login'\" class=\"my-4 text-center font-bold\" />\n        <i class=\"i-fa6-solid:circle-info ml-2 mt-6 cursor-pointer\" :title=\"$t('info.login_note')\" />\n    </div>\n    <hr />\n    <div class=\"w-full flex items-center justify-center text-center\">\n        <form class=\"w-min children:pb-3\">\n            <div>\n                <input\n                    v-model=\"username\"\n                    class=\"input\"\n                    type=\"text\"\n                    autocomplete=\"username\"\n                    :placeholder=\"$t('login.username')\"\n                    :aria-label=\"$t('login.username')\"\n                    @keyup.enter=\"login\"\n                />\n            </div>\n            <div>\n                <input\n                    v-model=\"password\"\n                    class=\"input\"\n                    type=\"password\"\n                    autocomplete=\"password\"\n                    :placeholder=\"$t('login.password')\"\n                    :aria-label=\"$t('login.password')\"\n                    @keyup.enter=\"login\"\n                />\n            </div>\n            <div>\n                <a v-t=\"'titles.login'\" class=\"btn w-auto\" @click=\"login\" />\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            username: null,\n            password: null,\n        };\n    },\n    mounted() {\n        //TODO: Add Server Side check\n        if (this.getAuthToken()) {\n            this.$router.push(import.meta.env.BASE_URL);\n        }\n    },\n    activated() {\n        document.title = this.$t(\"titles.login\") + \" - Piped\";\n    },\n    methods: {\n        login() {\n            if (!this.username || !this.password) return;\n            this.fetchJson(this.authApiUrl() + \"/login\", null, {\n                method: \"POST\",\n                body: JSON.stringify({\n                    username: this.username,\n                    password: this.password,\n                }),\n            }).then(resp => {\n                if (resp.token) {\n                    this.setPreference(\"authToken\" + this.hashCode(this.authApiUrl()), resp.token);\n                    window.location = import.meta.env.BASE_URL; // done to bypass cache\n                } else alert(resp.error);\n            });\n        },\n    },\n};\n</script>\n"],"names":["_sfc_main","resp","_hoisted_1","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_openBlock","_createElementBlock","_Fragment","_withDirectives","_ctx","_hoisted_4","_cache","$event","$data","_withKeys","$options","args"],"mappings":"gGAsCA,MAAKA,EAAU,CACX,MAAO,CACI,MAAA,CACH,SAAU,KACV,SAAU,IAAA,CAElB,EACA,SAAU,CAEF,KAAK,gBACA,KAAA,QAAQ,KAAK,GAAwB,CAElD,EACA,WAAY,CACR,SAAS,MAAQ,KAAK,GAAG,cAAc,EAAI,UAC/C,EACA,QAAS,CACL,OAAQ,CACA,CAAC,KAAK,UAAY,CAAC,KAAK,UAC5B,KAAK,UAAU,KAAK,WAAW,EAAI,SAAU,KAAM,CAC/C,OAAQ,OACR,KAAM,KAAK,UAAU,CACjB,SAAU,KAAK,SACf,SAAU,KAAK,QAAA,CAClB,CAAA,CACJ,EAAE,KAAaC,GAAA,CACRA,EAAK,OACA,KAAA,cAAc,YAAc,KAAK,SAAS,KAAK,YAAY,EAAGA,EAAK,KAAK,EAC7E,OAAO,SAAW,KACT,MAAAA,EAAK,KAAK,CAAA,CAC1B,CACL,CACJ,CACJ,EAtESC,EAAA,CAAA,MAAM,uBACkBC,EAAA,CAAA,MAAM,8BAFvCC,EAAA,CAAA,OAAA,IAKIC,EAAM,KAAA,KAAA,KAAA,EAAA,EACDC,EAAA,CAAA,MAAM,uDACDC,EAAA,CAAA,MAAM,uBAPpBC,EAAA,CAAA,cAAA,YAAA,EAAAC,EAAA,CAAA,cAAA,YAAA,yCAAA,OAAAC,EAAA,EAAAC,EAAAC,EAAA,KAAA,CACIP,EAGM,MAHNH,EAGM,CAFFW,EAAAR,EAA8D,KAA9DF,EAA8D,KAAA,GAAA,EAAA,IAArD,cAAc,CAAA,GACvBE,EAA6F,IAAA,CAA1F,MAAM,mDAAoD,MAAOS,EAAE,GAAA,iBAAA,CAAA,EAH9E,KAAA,EAAAV,CAAA,CAAA,GAKIW,EACAV,EA4BM,MA5BNC,EA4BM,CA3BFD,EA0BO,OA1BPE,EA0BO,CAzBHF,EAUM,MAAA,KAAA,GATFA,EAQE,QAAA,CAjBlB,sBAAAW,EAAA,CAAA,IAAAA,EAAA,CAAA,EAU6BC,GAAAC,EAAQ,SAAAD,GACjB,MAAM,QACN,KAAK,OACL,aAAa,WACZ,YAAaH,EAAE,GAAA,gBAAA,EACf,aAAYA,EAAE,GAAA,gBAAA,EACd,QAAKE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAhB1BG,UAgBkCC,EAAK,OAAAA,EAAA,MAAA,GAAAC,CAAA,EAAA,CAAA,OAAA,CAAA,EAAA,EAhBvC,KAAA,GAAAb,CAAA,EAAA,IAU6BU,EAAQ,QAAA,CAAA,KASzBb,EAUM,MAAA,KAAA,GATFA,EAQE,QAAA,CA5BlB,sBAAAW,EAAA,CAAA,IAAAA,EAAA,CAAA,EAqB6BC,GAAAC,EAAQ,SAAAD,GACjB,MAAM,QACN,KAAK,WACL,aAAa,WACZ,YAAaH,EAAE,GAAA,gBAAA,EACf,aAAYA,EAAE,GAAA,gBAAA,EACd,QAAKE,EAAA,CAAA,IAAAA,EAAA,CAAA,EA3B1BG,UA2BkCC,EAAK,OAAAA,EAAA,MAAA,GAAAC,CAAA,EAAA,CAAA,OAAA,CAAA,EAAA,EA3BvC,KAAA,GAAAZ,CAAA,EAAA,IAqB6BS,EAAQ,QAAA,CAAA,KASzBb,EAEM,MAAA,KAAA,GADFA,EAA4D,IAAA,CAApC,MAAM,aAAc,4BAAOe,EAAK,OAAAA,EAAA,MAAA,GAAAC,CAAA,EAAA,gBAAhD,cAAc,CAAA"}